{
  "log": {"level": "warn", "timestamp": true},
  "experimental": {
    "urltest_unified_delay": true,
    "cache_file": {"enabled": true, "store_fakeip": true, "store_rdrc": true},
    "clash_api": {
      "external_controller": "[::]:9090",
      "external_ui": "ui",
      "external_ui_download_url": "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "ğŸ“¦ CATCH_ALL",
      "external_ui_update_interval": "24h0m0s"
    }
  },
  "providers": [
    {
      "tag": "A",
      "type": "remote",
      "url": "è®¢é˜…é“¾æ¥1",
      "user_agent": "sing-box/v1.12.0",
      "download_detour": "direct",
      "update_interval": "24h0m0s",
      "health_check": {"enabled": true, "url": "https://www.gstatic.com/generate_204", "interval": "30m0s", "timeout": "3s"}
    },
    {
      "tag": "B",
      "type": "remote",
      "url": "è®¢é˜…é“¾æ¥2",
      "user_agent": "sing-box/v1.12.0",
      "download_detour": "direct",
      "update_interval": "24h0m0s",
      "health_check": {"enabled": true, "url": "https://www.gstatic.com/generate_204", "interval": "30m0s", "timeout": "3s"}
    }
  ],
  "dns":  {
    "servers": [
      {"tag": "proxy_server_dns", "type": "https", "server": "doh.pub", "domain_resolver": "hosts"},
      {"tag": "direct_dns", "type": "https", "server": "dns.alidns.com", "domain_resolver": "hosts"},
      {"tag": "proxy_dns", "type": "https", "server": "dns.google", "domain_resolver": "hosts", "detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "local", "type": "local"},
      {"tag": "fake-ip-dns-server", "type": "fakeip", "inet4_range": "198.18.0.0/15", "inet6_range": "fc00::/18"},
      {"tag": "hosts", "type": "hosts", "predefined": {"dns.alidns.com": ["223.5.5.5", "223.6.6.6"], "doh.pub": ["1.12.12.21", "120.53.53.53"],
       "dns.google": ["8.8.8.8", "8.8.4.4"], "cloudflare-dns.com": ["104.16.248.249", "104.16.249.249"]}}
    ],
    "rules": [
      {"clash_mode": "Global", "query_type": ["SVCB", "HTTPS"], "action": "reject"},
      {"clash_mode": "Global", "query_type": ["A", "AAAA"], "server": "fake-ip-dns-server", "rewrite_ttl": 1},
      {"clash_mode": "Direct", "query_type": "AAAA", "action": "reject"}, // å¦‚è‹¥æœ¬åœ°ç½‘ç»œä¸æ”¯æŒipv6ï¼Œæ­¤æ¡ç”¨äºå±è”½Directçš„ipv6ï¼ŒåŠ ä¸Šæ­¤æ¡é€‚ç”¨äºClashæ¨¡å¼Directä¸‹ï¼Œç½‘é¡µç«¯è®¿é—®è¿æ¥æˆåŠŸ
      {"clash_mode": "Direct", "server": "direct_dns"},
      {"domain_suffix": ["market.xiaomi.com"], "server": "direct_dns"},
      {"domain_suffix": ["lancache.steamcontent.com"], "server": "proxy_dns"},
      {"query_type": "PTR", "server": "local"},
      {"query_type": ["SVCB", "HTTPS"], "action": "reject"},
      {"query_type": ["A", "AAAA"], "server": "fake-ip-dns-server", "rewrite_ttl": 1},
      {"rule_set": "gfw", "server": "proxy_dns"}
    ],
    "final": "proxy_dns",
    "strategy": "prefer_ipv4",
    "independent_cache": true,
    "cache_capacity": 4096,
    "lazy_cache_ttl": 86400
  },
  "inbounds": [
    {"tag": "mixed-in", "type": "mixed", "listen": "0.0.0.0", "listen_port": 7890, "set_system_proxy": false},
    {"tag": "tun-in", "type": "tun", "interface_name": "tun0", "address": ["172.19.0.1/30", "fdfe:dcba:9876::1/126"],
     "mtu": 9000, "auto_route": true, "strict_route": true, "auto_redirect": false,
     "platform": {"http_proxy": {"enabled": true, "server": "127.0.0.1", "server_port": 7890}}}
  ],
  "outbounds": [
    {"tag": "ğŸ“¦ CATCH_ALL", "type": "selector", "outbounds": ["ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "interrupt_exist_connections": true},
    {"tag": "ğŸ§­ Google Services", "type": "selector", "outbounds": ["ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "interrupt_exist_connections": true},
    {"tag": "ğŸ Apple", "type": "selector", "outbounds": ["direct", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "interrupt_exist_connections": true},
    {"tag": "ğŸ“º Bilibili", "type": "selector", "outbounds": ["direct", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan"], "interrupt_exist_connections": true},
    {"tag": "ğŸ–¥ï¸ Microsoft", "type": "selector", "outbounds": ["direct", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "interrupt_exist_connections": true},
    {"tag": "tg-sg", "type": "selector", "outbounds": ["ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "default": "ğŸ‡¸ğŸ‡¬ Singapore", "interrupt_exist_connections": true},
    {"tag": "tg-us", "type": "selector", "outbounds": ["ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "default": "ğŸ‡ºğŸ‡¸ United States", "interrupt_exist_connections": true},
    {"tag": "tg-eu", "type": "selector", "outbounds": ["ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"], "default": "ğŸ‡ºğŸ‡³ Other regions", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡­ğŸ‡° Hong Kong", "type": "selector", "use_all_providers": true, "outbounds": [], "include": "(?i)é¦™æ¸¯|hk|hongkong", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡¹ğŸ‡¼ Taiwan", "type": "selector", "use_all_providers": true, "outbounds": [], "include": "(?i)å°æ¹¾|tw|taiwan|taipei", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡¸ğŸ‡¬ Singapore", "type": "selector", "use_all_providers": true, "outbounds": [], "include": "(?i)æ–°åŠ å¡|sg|singapore|ç‹®åŸ", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡¯ğŸ‡µ Japan", "type": "selector", "use_all_providers": true, "outbounds": [], "include": "(?i)æ—¥æœ¬|jp|japan|tokyo|osaka", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡ºğŸ‡¸ United States", "type": "selector", "use_all_providers": true, "outbounds": [], "include": "(?i)ç¾å›½|us|united states|america|los angeles|san jose|silicon valley", "interrupt_exist_connections": true},
    {"tag": "ğŸ‡ºğŸ‡³ Other regions", "type": "selector", "use_all_providers": true, "outbounds": [], "exclude": "(?i)é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|hk|tw|jp|sg|us|ğŸ‡¨ğŸ‡³|ğŸ‡ºğŸ‡¸|ğŸ‡­ğŸ‡°|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ", "interrupt_exist_connections": true},
    {"tag": "GLOBAL", "type": "selector", "outbounds": ["ğŸ“¦ CATCH_ALL", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡ºğŸ‡³ Other regions"]},
    {"tag": "direct", "type": "direct", "domain_resolver": "local"}
  ],
  "route": {
    "final": "ğŸ“¦ CATCH_ALL",
    "auto_detect_interface": true,
    "override_android_vpn": true,  // Androidç«¯è®¾ç½®ï¼ŒWindowsç«¯è¯·å»æ‰
    "default_domain_resolver": "proxy_server_dns",
    "default_domain_match_strategy": "prefer_fqdn",
    "rules": [
      {"type": "logical", "mode": "and", "rules": [{"process_name": ["WeChat.exe", "Weixin.exe", "WeChatApp.exe"]}, {"ip_version": 6}, {"default_interface_address": ["2000::/3"], "invert": true}], "action": "reject"},
      // æ­¤é…ç½®ä¸ºWindowsç«¯ï¼ŒAndroidç«¯è¯·å°†"process_name": "Weixin.exe"æ¢æˆ"package_name": "com.tencent.mm"ï¼Œç”¨äºè§£å†³å¾®ä¿¡é¡½å›ºipv6å¯¼è‡´å›¾ç‰‡æ— æ³•æˆåŠŸå‘é€çš„é—®é¢˜
      {"domain": ["Mijia Cloud"], "domain_suffix": ["push.apple.com"], "rule_set": ["telegram_ip"], "invert": true, "action": "sniff"},
      {"type": "logical", "mode": "or", "rules": [{"protocol": "dns"}, {"port": 53}], "action": "hijack-dns"},
      {"udp_disable_domain_unmapping": true, "udp_connect": true, "action": "route-options"},
      {"ip_is_private": true, "outbound": "direct"},
      {"clash_mode": "Global", "outbound": "GLOBAL"},
      {"clash_mode": "Direct", "outbound": "direct"},
      {"rule_set": "private", "outbound": "direct"},
      {"network": "icmp", "outbound": "direct"},
      {"process_name": ["ssh.exe", "powershell.exe", "pwsh.exe", "putty.exe", "Termius.exe", "XTerminal.exe", "Tabby.exe"], "outbound": "direct"}, // sshå®¢æˆ·ç«¯ç›´è¿ï¼Œå®‰å“å¯åˆ é™¤
      {"rule_set": ["AWAvenue-Ads", "webRTC", "adobe"], "action": "reject", "method": "drop"}, // adobeæ˜¯ä¸ºäº†å±è”½Adobeæ——ä¸‹è½¯ä»¶çš„æ­£ç‰ˆè”ç½‘éªŒè¯ï¼Œå¯é€‰æ‹©æ€§åˆ é™¤
      {"domain": ["abyss.cyapi.cn", "ad.cyapi.cn", "gather.colorfulclouds.net"], "action": "reject"},
      {"domain_suffix": ["steamserver.net"], "outbound": "direct"},
      {"domain_suffix":  ["pilipiliultra.com"], "outbound": "ğŸ“º Bilibili"},
      {"outbound": "tg-sg", "ip_cidr": ["91.108.16.0/21", "91.108.56.0/23", "149.154.168.0/22", "2001:b28:f23c::/48", "2001:b28:f23f::/48"]},
      {"outbound": "tg-us", "ip_cidr": ["91.108.12.0/22", "149.154.172.0/22", "2001:b28:f23d::/48"]},
      {"outbound": "tg-eu", "ip_cidr": ["5.28.192.0/18", "91.105.192.0/23", "91.108.4.0/22", "91.108.8.0/22", "91.108.56.0/22", "95.161.64.0/20", "109.239.140.0/24", "149.154.160.0/21", "185.76.151.0/24", "2001:67c:4e8::/48", "2a0a:f280:203::/48"]},
      {"protocol":"quic", "rule_set": "youtube", "action": "reject"},
      {"rule_set": "apple", "outbound": "ğŸ Apple"},
      {"rule_set": "bilibili", "outbound": "ğŸ“º Bilibili"},
      {"rule_set": "bahamut", "outbound": "ğŸ‡¹ğŸ‡¼ Taiwan"},
      {"rule_set": "github", "outbound": "ğŸ“¦ CATCH_ALL"},
      {"rule_set": "geosite-microsoft", "outbound": "ğŸ–¥ï¸ Microsoft"},
      {"rule_set": ["youtube", "google"], "outbound": "ğŸ§­ Google Services"},
      {"rule_set": ["ai", "telegram", "twitter", "gfw"], "outbound": "ğŸ“¦ CATCH_ALL"},
      {"rule_set": "cn", "outbound": "direct"},
      {"action": "resolve", "match_only": true},
      {"rule_set": "cn_ip", "outbound": "direct"}
    ],
    "rule_set": [
      {"tag": "webRTC", "type": "remote", "url": "https://raw.githubusercontent.com/Kris-Channnn/sing-box-proxy/refs/heads/main/webRTC.json", "download_detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "AWAvenue-Ads", "type": "remote", "url": "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Singbox.json", "download_detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "private", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-private.srs", "download_detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "ai", "type": "remote", "format": "binary", "url": "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/category-ai-!cn.srs", "download_detour": "direct"},
      {"tag": "adobe", "type": "remote", "format": "binary", "url": "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/adobe.srs", "download_detour": "direct"},
      {"tag": "apple", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/apple.srs", "download_detour": "direct"},
      {"tag": "telegram", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/telegram.srs", "download_detour": "direct"},
      {"tag": "telegram_ip", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/telegram.srs", "download_detour": "direct"},
      {"tag": "github", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/github.srs", "download_detour": "direct"},
      {"tag": "geosite-microsoft", "type": "remote", "format": "binary", "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft.srs", "download_detour": "direct"},
      {"tag": "twitter", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/twitter.srs", "download_detour": "direct"},
      {"tag": "youtube", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/youtube.srs", "download_detour": "direct"},
      {"tag": "google", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/google.srs", "download_detour": "direct"},
      {"tag": "bahamut", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/bahamut.srs", "download_detour": "direct"},
      {"tag": "bilibili", "type": "remote", "format": "binary", "url": "https://ghfast.top/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/bilibili.srs", "download_detour": "direct"},
      {"tag": "gfw", "type": "remote", "format": "binary", "url": "https://github.com/CHIZI-0618/v2ray-rules-dat/raw/refs/heads/release/singbox_rule_set/geosite-gfw.srs", "download_detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "cn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/YiXuanZX/sing-box-geosite/main/rule/cn-additional-list-clash-classical.srs", "download_detour": "ğŸ“¦ CATCH_ALL"},
      {"tag": "cn_ip", "type": "remote", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/cn.srs", "download_detour": "ğŸ“¦ CATCH_ALL"}
    ]
  }
}









